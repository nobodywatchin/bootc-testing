---
modules:
  - type: dnf
    remove:
      packages:
        - subscription-manager
    install:
      packages:
        - epel-release
  - type: containerfile
    snippets:
      - RUN dnf config-manager --set-enabled crb
  - type: dnf
    install:
      install-weak-deps: false
      packages:
        # Base
        - audit
        - rpm-plugin-audit
        - basesystem
        - bash
        - coreutils
        - cronie
        - crypto-policies
        - crypto-policies-scripts
        - dnf
        - e2fsprogs
        - filesystem
        - glibc
        - hostname
        - irqbalance
        - kbd
        - kexec-tools
        - less
        - logrotate
        - man-db
        - man-pages
        - ncurses
        - parted
        - policycoreutils
        - procps-ng
        - rootfiles
        - rpm
        - selinux-policy-targeted
        - setup
        - shadow-utils
        - sudo
        - systemd
        - systemd-udev
        - util-linux
        - xfsprogs
        - vim-minimal
        # Networking
        - curl
        - firewalld
        - iproute
        - iputils
        - openssh-clients
        - openssh-server
        - NetworkManager
        - p11-kit
        # Storage & FS
        - dosfstools
        - lvm2
        - sg3_utils
        - sg3_utils-libs
        # Monitoring & utils
        - lsof
        - sos
        - smartmontools
        - strace
        - rasdaemon
        - time
        # Base tools
        - bzip2
        - file
        - gnupg2
        - mailcap
        - plocate
        - rsync
        - tar
        - unzip
        - wget
        - which
        - zip
        # BootC
        - system-reinstall-bootc
        # System plumbing
        - dbus
        - kernel-tools
        - linux-firmware
        - python3-libselinux
        # Containers (runtime)
        - podman
        - skopeo
